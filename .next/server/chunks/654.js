"use strict";exports.id=654,exports.ids=[654],exports.modules={1654:(a,b,c)=>{c.r(b),c.d(b,{default:()=>L});var d=c(2770),e=c(6723),f=c(2015),g=c(8732);let h=(0,f.createContext)(),i=({children:a})=>{let{0:b,1:c}=(0,f.useState)(null),{0:d,1:e}=(0,f.useState)(!1);return(0,g.jsx)(h.Provider,{value:{user:b,isLoggedIn:d,login:a=>{c(a),e(!0)},logout:()=>{c(null),e(!1)}},children:a})};var j=c(7629),k=c(9918),l=c.n(k);let m=d.styled.nav.withConfig({displayName:"styledComponents__NavBar",componentId:"sc-o1mvhd-0"})(["background:linear-gradient(135deg,"," 0%,"," 100%);padding:"," ",";box-shadow:",";position:sticky;top:0;z-index:1000;backdrop-filter:blur(10px);border-bottom:1px solid ",";"],({theme:a})=>a.colors.primaryDark,({theme:a})=>a.colors.primary,({theme:a})=>a.spacing.lg,({theme:a})=>a.spacing.xl,({theme:a})=>a.shadows.lg,({theme:a})=>a.colors.borderLight),n=d.styled.ul.withConfig({displayName:"styledComponents__NavList",componentId:"sc-o1mvhd-1"})(["display:flex;gap:",";justify-content:center;align-items:center;list-style:none;padding:0;margin:0;max-width:1200px;margin:0 auto;@media (max-width:","){gap:",";flex-wrap:wrap;}"],({theme:a})=>a.spacing.xl,({theme:a})=>a.breakpoints.tablet,({theme:a})=>a.spacing.lg),o=d.styled.li.withConfig({displayName:"styledComponents__NavItem",componentId:"sc-o1mvhd-2"})(["font-size:",";font-weight:",";"],({theme:a})=>a.typography.fontSizeLarge,({theme:a})=>a.typography.medium),p=(0,d.styled)(l()).withConfig({displayName:"styledComponents__NavLink",componentId:"sc-o1mvhd-3"})(["color:",";text-decoration:none;font-weight:",";transition:all ",";padding:"," ",";border-radius:",";position:relative;&::after{content:'';position:absolute;bottom:-2px;left:50%;transform:translateX(-50%);width:0;height:2px;background:",";transition:width ",";}&:hover{color:",";transform:translateY(-1px);&::after{width:100%;}}&:focus{outline:2px solid ",";outline-offset:2px;}"],({theme:a})=>a.colors.surface,({theme:a})=>a.typography.semibold,({theme:a})=>a.transitions.fast,({theme:a})=>a.spacing.sm,({theme:a})=>a.spacing.md,({theme:a})=>a.borderRadius.md,({theme:a})=>a.colors.surface,({theme:a})=>a.transitions.fast,({theme:a})=>a.colors.accentLight,({theme:a})=>a.colors.surface),q=d.styled.div.withConfig({displayName:"styledComponents__SearchContainer",componentId:"sc-o1mvhd-4"})(["display:flex;align-items:center;form{display:flex;align-items:center;background:",";border-radius:",";box-shadow:",";overflow:hidden;transition:all ",";&:hover{box-shadow:",";transform:translateY(-1px);}&:focus-within{box-shadow:0 0 0 2px ","40;}}"],({theme:a})=>a.colors.surface,({theme:a})=>a.borderRadius.md,({theme:a})=>a.shadows.sm,({theme:a})=>a.transitions.fast,({theme:a})=>a.shadows.md,({theme:a})=>a.colors.primaryLight),r=d.styled.input.withConfig({displayName:"styledComponents__SearchInput",componentId:"sc-o1mvhd-5"})(["padding:"," ",";border:none;outline:none;font-size:",";font-family:inherit;background:transparent;color:",";min-width:200px;&::placeholder{color:",";}&:focus{outline:none;}@media (max-width:","){min-width:150px;}"],({theme:a})=>a.spacing.sm,({theme:a})=>a.spacing.md,({theme:a})=>a.typography.fontSize,({theme:a})=>a.colors.text,({theme:a})=>a.colors.textLight,({theme:a})=>a.breakpoints.tablet),s=d.styled.button.withConfig({displayName:"styledComponents__SearchButton",componentId:"sc-o1mvhd-6"})(["padding:"," ",";background:",";color:",";border:none;cursor:pointer;font-size:",";transition:all ",";&:hover{background:",";}&:focus{outline:2px solid ",";outline-offset:2px;}"],({theme:a})=>a.spacing.sm,({theme:a})=>a.spacing.md,({theme:a})=>a.colors.primary,({theme:a})=>a.colors.surface,({theme:a})=>a.typography.fontSize,({theme:a})=>a.transitions.fast,({theme:a})=>a.colors.primaryDark,({theme:a})=>a.colors.surface),t=(0,d.styled)(l()).withConfig({displayName:"styledComponents__CartLink",componentId:"sc-o1mvhd-7"})(["color:",";text-decoration:none;font-weight:",";transition:all ",";"],({theme:a})=>a.colors.primary,({theme:a})=>a.typography.semibold,({theme:a})=>a.transitions.fast),u=d.styled.div.withConfig({displayName:"styledComponents__CartWrapper",componentId:"sc-o1mvhd-8"})(["display:flex;align-items:center;position:relative;text-decoration:none;color:inherit;padding:"," ",";border-radius:",";background:",";transition:all ",";box-shadow:",";border:1px solid ",";&:hover{background:",";transform:translateY(-1px);box-shadow:",";}&:focus-within{outline:2px solid ",";outline-offset:2px;}"],({theme:a})=>a.spacing.sm,({theme:a})=>a.spacing.lg,({theme:a})=>a.borderRadius.md,({theme:a})=>a.colors.surface,({theme:a})=>a.transitions.fast,({theme:a})=>a.shadows.sm,({theme:a})=>a.colors.borderLight,({theme:a})=>a.colors.borderLight,({theme:a})=>a.shadows.md,({theme:a})=>a.colors.primary),v=(0,d.styled)(j.AsH).withConfig({displayName:"styledComponents__Icon",componentId:"sc-o1mvhd-9"})(["font-size:",";margin-right:",";color:",";"],({theme:a})=>a.typography.fontSizeLarge,({theme:a})=>a.spacing.sm,({theme:a})=>a.colors.primary),w=d.styled.span.withConfig({displayName:"styledComponents__ItemCount",componentId:"sc-o1mvhd-10"})(["position:absolute;top:-10px;right:-10px;background:linear-gradient(135deg,"," 0%,"," 100%);color:",";font-size:",";font-weight:",";padding:"," ",";border-radius:",";min-width:24px;height:24px;display:flex;align-items:center;justify-content:center;box-shadow:",";border:2px solid ",";animation:pulse 2s infinite;@keyframes pulse{0%{transform:scale(1);}50%{transform:scale(1.1);}100%{transform:scale(1);}}"],({theme:a})=>a.colors.error,({theme:a})=>a.colors.warning,({theme:a})=>a.colors.surface,({theme:a})=>a.typography.fontSizeSmall,({theme:a})=>a.typography.bold,({theme:a})=>a.spacing.xs,({theme:a})=>a.spacing.sm,({theme:a})=>a.borderRadius.full,({theme:a})=>a.shadows.md,({theme:a})=>a.colors.surface),x=d.styled.span.withConfig({displayName:"styledComponents__Label",componentId:"sc-o1mvhd-11"})(["font-weight:",";color:",";"],({theme:a})=>a.typography.medium,({theme:a})=>a.colors.text),y=d.styled.div.withConfig({displayName:"styledComponents__LoginButton",componentId:"sc-ypizor-0"})(["padding:"," ",";background:",";color:",";font-weight:",";font-size:14px;border-radius:",";text-decoration:none;transition:all ",";cursor:pointer;display:flex;align-items:center;gap:",";position:relative;border:1px solid ",";&:hover{background:",";transform:translateY(-1px);}&:active{transform:translateY(0);}"],({theme:a})=>a.spacing.sm,({theme:a})=>a.spacing.md,({theme:a,isLoggedIn:b})=>b?"rgba(255, 255, 255, 0.1)":`linear-gradient(135deg, ${a.colors.success} 0%, ${a.colors.primary} 100%)`,({theme:a})=>a.colors.surface,({theme:a})=>a.typography.medium,({theme:a})=>a.borderRadius.md,({theme:a})=>a.transitions.normal,({theme:a})=>a.spacing.xs,({theme:a,isLoggedIn:b})=>b?"rgba(255, 255, 255, 0.2)":"transparent",({theme:a,isLoggedIn:b})=>b?"rgba(255, 255, 255, 0.2)":`linear-gradient(135deg, ${a.colors.primary} 0%, ${a.colors.success} 100%)`),z=d.styled.div.withConfig({displayName:"styledComponents__UserMenu",componentId:"sc-ypizor-1"})(["position:absolute;top:100%;right:0;background:",";border:1px solid ",";border-radius:",";box-shadow:",";min-width:180px;z-index:1000;margin-top:",";overflow:hidden;"],({theme:a})=>a.colors.surface,({theme:a})=>a.colors.border,({theme:a})=>a.borderRadius.md,({theme:a})=>a.shadows.lg,({theme:a})=>a.spacing.xs),A={LoginButton:y,UserMenu:z,MenuItem:d.styled.div.withConfig({displayName:"styledComponents__MenuItem",componentId:"sc-ypizor-2"})(["padding:"," ",";color:",";cursor:pointer;transition:background-color ",";border-bottom:1px solid ",";font-size:14px;&:last-child{border-bottom:none;}&:hover{background:",";}"],({theme:a})=>a.spacing.sm,({theme:a})=>a.spacing.md,({theme:a})=>a.colors.text,({theme:a})=>a.transitions.normal,({theme:a})=>a.colors.border,({theme:a})=>a.colors.background),UserInfo:d.styled.div.withConfig({displayName:"styledComponents__UserInfo",componentId:"sc-ypizor-3"})(["padding:"," ",";background:",";border-bottom:1px solid ",";font-size:12px;color:",";"],({theme:a})=>a.spacing.sm,({theme:a})=>a.spacing.md,({theme:a})=>a.colors.background,({theme:a})=>a.colors.border,({theme:a})=>a.colors.textSecondary)};var B=c(4233);let C=()=>{let{0:a,1:b}=(0,f.useState)(!1),{0:c,1:d}=(0,f.useState)(null),{0:e,1:h}=(0,f.useState)(!1),i=(0,B.useRouter)(),j=(0,f.useRef)(null);(0,f.useEffect)(()=>{let a=()=>{let a=localStorage.getItem("token"),c=localStorage.getItem("user");if(a&&c)try{let a=JSON.parse(c);b(!0),d(a)}catch(a){console.error("Error parsing user data:",a),k()}else b(!1),d(null)};a();let c=()=>{a()};window.addEventListener("storage",c);let e=setInterval(a,1e3);return()=>{window.removeEventListener("storage",c),clearInterval(e)}},[]),(0,f.useEffect)(()=>{let a=a=>{j.current&&!j.current.contains(a.target)&&h(!1)};return e&&document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[e]);let k=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),b(!1),d(null),h(!1),i.push("/")};return(0,g.jsxs)("div",{ref:j,style:{position:"relative"},children:[(0,g.jsx)(A.LoginButton,{onClick:()=>{a?h(!e):i.push("/signIn")},isLoggedIn:a,children:a?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("span",{children:"\uD83D\uDC64"}),(0,g.jsx)("span",{children:c?.name||"User"}),(0,g.jsx)("span",{children:"â–¼"})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("span",{children:"\uD83D\uDD10"}),(0,g.jsx)("span",{children:"Sign In"})]})}),a&&e&&(0,g.jsxs)(A.UserMenu,{children:[(0,g.jsxs)(A.UserInfo,{children:["Signed in as ",c?.email]}),(0,g.jsx)(A.MenuItem,{onClick:()=>{h(!1),i.push("/profile")},children:"\uD83D\uDC64 My Profile"}),(0,g.jsx)(A.MenuItem,{onClick:k,children:"\uD83D\uDEAA Sign Out"})]})]})},D=()=>{let{cart:a}=(0,f.useContext)(e.C),{0:b,1:c}=(0,f.useState)(""),d=a?.reduce((a,b)=>a+(b.quantity||1),0)||0;return(0,g.jsx)(m,{children:(0,g.jsxs)(n,{children:[(0,g.jsx)(o,{children:(0,g.jsx)(p,{href:"/",children:"Home"})}),(0,g.jsx)(o,{children:(0,g.jsx)(p,{href:"/productGrid",children:"Shop"})}),(0,g.jsx)(o,{children:(0,g.jsx)(p,{href:"/about",children:"About"})}),(0,g.jsx)(o,{children:(0,g.jsx)(p,{href:"/contact",children:"Contact"})}),(0,g.jsx)(o,{children:(0,g.jsx)(q,{children:(0,g.jsxs)("form",{onSubmit:a=>{a.preventDefault(),b.trim()&&(window.location.href=`/productGrid?search=${encodeURIComponent(b.trim())}`)},children:[(0,g.jsx)(r,{type:"text",placeholder:"Search juices...",value:b,onChange:a=>{c(a.target.value)},"aria-label":"Search for juices"}),(0,g.jsx)(s,{type:"submit","aria-label":"Search",children:"\uD83D\uDD0D"})]})})}),(0,g.jsx)(o,{children:(0,g.jsx)(t,{href:"/bag",children:(0,g.jsxs)(u,{children:[(0,g.jsx)(v,{}),(0,g.jsx)(x,{children:"Bag"}),d>0&&(0,g.jsx)(w,{children:d})]})})}),(0,g.jsx)(o,{children:(0,g.jsx)(C,{})})]})})},E=d.styled.footer.withConfig({displayName:"styledComponents__FooterContainer",componentId:"sc-1tv76o8-0"})(["background:linear-gradient(135deg,"," 0%,"," 100%);color:",";text-align:center;padding:",";box-shadow:",";margin-top:auto;position:relative;&::before{content:'';position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,",",",");}"],({theme:a})=>a.colors.primaryDark,({theme:a})=>a.colors.primary,({theme:a})=>a.colors.surface,({theme:a})=>a.spacing.xl,({theme:a})=>a.shadows.lg,({theme:a})=>a.colors.secondary,({theme:a})=>a.colors.accent),F=d.styled.p.withConfig({displayName:"styledComponents__FooterText",componentId:"sc-1tv76o8-1"})(["margin:0;opacity:0.9;transition:opacity ",";font-weight:",";font-size:",";&:hover{opacity:1;}"],({theme:a})=>a.transitions.fast,({theme:a})=>a.typography.medium,({theme:a})=>a.typography.fontSize),G=(d.styled.div.withConfig({displayName:"styledComponents__FooterContent",componentId:"sc-1tv76o8-2"})(["max-width:1200px;margin:0 auto;display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:",";text-align:left;@media (max-width:","){grid-template-columns:1fr;text-align:center;}"],({theme:a})=>a.spacing.xl,({theme:a})=>a.breakpoints.tablet),d.styled.div.withConfig({displayName:"styledComponents__FooterSection",componentId:"sc-1tv76o8-3"})(["h3{color:",";margin-bottom:",";font-size:",";font-weight:",";}p{color:",";opacity:0.8;line-height:",";margin-bottom:",";}a{color:",";text-decoration:none;transition:color ",";&:hover{color:",";}}"],({theme:a})=>a.colors.accentLight,({theme:a})=>a.spacing.md,({theme:a})=>a.typography.h5,({theme:a})=>a.typography.semibold,({theme:a})=>a.colors.surface,({theme:a})=>a.typography.lineHeight,({theme:a})=>a.spacing.sm,({theme:a})=>a.colors.accentLight,({theme:a})=>a.transitions.fast,({theme:a})=>a.colors.surface),{FooterContainer:E,FooterText:F}),H=()=>(0,g.jsx)(G.FooterContainer,{children:(0,g.jsxs)(G.FooterText,{children:["\xa9 ",new Date().getFullYear()," My App. All rights reserved."]})}),I=(0,d.createGlobalStyle)(["*,*::before,*::after{box-sizing:border-box;margin:0;padding:0;}html{font-size:16px;scroll-behavior:smooth;}body{font-family:",";background-color:",";color:",";font-size:",";line-height:",";font-weight:",";-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;}h1,h2,h3,h4,h5,h6{font-family:",";font-weight:",";line-height:",";margin-bottom:",";color:",";}h1{font-size:",";font-weight:",";}h2{font-size:",";}h3{font-size:",";}h4{font-size:",";}h5{font-size:",";}h6{font-size:",";}p{margin-bottom:",";line-height:",";}a{color:",";text-decoration:none;transition:color ",";&:hover{color:",";}}button{font-family:inherit;cursor:pointer;border:none;outline:none;transition:all ",";}img{max-width:100%;height:auto;display:block;}input,textarea,select{font-family:inherit;font-size:inherit;}*:focus{outline:2px solid ",";outline-offset:2px;}::selection{background-color:",";color:",";}::-webkit-scrollbar{width:8px;}::-webkit-scrollbar-track{background:",";}::-webkit-scrollbar-thumb{background:",";border-radius:",";}::-webkit-scrollbar-thumb:hover{background:",";}"],({theme:a})=>a.typography.body,({theme:a})=>a.colors.background,({theme:a})=>a.colors.text,({theme:a})=>a.typography.fontSize,({theme:a})=>a.typography.lineHeight,({theme:a})=>a.typography.regular,({theme:a})=>a.typography.heading,({theme:a})=>a.typography.semibold,({theme:a})=>a.typography.lineHeightTight,({theme:a})=>a.spacing.md,({theme:a})=>a.colors.text,({theme:a})=>a.typography.h1,({theme:a})=>a.typography.bold,({theme:a})=>a.typography.h2,({theme:a})=>a.typography.h3,({theme:a})=>a.typography.h4,({theme:a})=>a.typography.h5,({theme:a})=>a.typography.h6,({theme:a})=>a.spacing.md,({theme:a})=>a.typography.lineHeight,({theme:a})=>a.colors.primary,({theme:a})=>a.transitions.fast,({theme:a})=>a.colors.primaryDark,({theme:a})=>a.transitions.fast,({theme:a})=>a.colors.primary,({theme:a})=>a.colors.primaryLight,({theme:a})=>a.colors.surface,({theme:a})=>a.colors.borderLight,({theme:a})=>a.colors.border,({theme:a})=>a.borderRadius.full,({theme:a})=>a.colors.textLight),J={colors:{primary:"#2D5A27",primaryLight:"#4A7C59",primaryDark:"#1A3D1F",secondary:"#68B984",secondaryLight:"#8BC34A",secondaryDark:"#4CAF50",accent:"#A8E6CF",accentLight:"#C8F4D9",background:"#F7FAF7",surface:"#FFFFFF",text:"#1A202C",textSecondary:"#4A5568",textLight:"#718096",success:"#38A169",warning:"#D97706",error:"#DC2626",info:"#3182CE",border:"#E2E8F0",borderLight:"#F0F8F0",shadow:"rgba(0, 0, 0, 0.08)",shadowDark:"rgba(0, 0, 0, 0.15)"},typography:{body:'"Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',heading:'"Poppins", "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',fontSize:"16px",fontSizeSmall:"14px",fontSizeLarge:"18px",h1:"2.5rem",h2:"2rem",h3:"1.75rem",h4:"1.5rem",h5:"1.25rem",h6:"1.125rem",light:300,regular:400,medium:500,semibold:600,bold:700,lineHeight:1.6,lineHeightTight:1.4,lineHeightLoose:1.8},spacing:{xs:"0.25rem",sm:"0.5rem",md:"1rem",lg:"1.5rem",xl:"2rem",xxl:"3rem",xxxl:"4rem"},borderRadius:{sm:"0.25rem",md:"0.5rem",lg:"0.75rem",xl:"1rem",full:"9999px"},shadows:{sm:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},breakpoints:{mobile:"640px",tablet:"768px",desktop:"1024px",wide:"1280px"},transitions:{fast:"0.15s ease-in-out",normal:"0.3s ease-in-out",slow:"0.5s ease-in-out"}};function K(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}let L=({Component:a,pageProps:b})=>(0,g.jsxs)(d.ThemeProvider,{theme:J,children:[(0,g.jsx)(I,{}),(0,g.jsx)(i,{children:(0,g.jsxs)(e.O,{children:[(0,g.jsx)(D,{}),(0,g.jsx)(a,function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?K(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):K(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({},b)),(0,g.jsx)(H,{})]})})]})},6723:(a,b,c)=>{c.d(b,{C:()=>h,O:()=>i});var d=c(2015),e=c(8732);function f(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function g(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?f(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):f(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}let h=(0,d.createContext)(),i=({children:a})=>{let{0:b,1:c}=(0,d.useState)([]),{0:f,1:i}=(0,d.useState)([]),{0:j,1:k}=(0,d.useState)(!0),{0:l,1:m}=(0,d.useState)(null);return(0,d.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/products");if(!a.ok)throw Error("Failed to fetch products");let b=await a.json();if(b.success&&b.products)c(b.products);else throw Error("Invalid response format");k(!1)}catch(a){k(!1),m(a.message),console.error("Error fetching products:",a)}})()},[]),(0,e.jsx)(h.Provider,{value:{products:b,cart:f,loading:j,error:l,setProducts:c,addToCart:a=>{i(b=>b.find(b=>b.id===a.id)?b.map(b=>b.id===a.id?g(g({},b),{},{quantity:b.quantity+1}):b):[...b,g(g({},a),{},{price:"number"==typeof a.price?a.price:parseFloat(a.price||0),quantity:1})])},removeFromCart:a=>{i(b=>b.filter(b=>b.id!==a))},updateQuantity:(a,b)=>{i(c=>c.map(c=>c.id===a.id?g(g({},c),{},{quantity:b,price:"number"==typeof c.price?c.price:parseFloat(c.price||0)}):c))},clearCart:()=>{i([])}},children:a})}}};